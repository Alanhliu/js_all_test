<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<body>
	<script type="text/javascript">
		// ES6 新增了let命令，用来声明变量。它的用法类似于var，但是所声明的变量，只在let命令所在的代码块内有效。
		// {
		//   let a = 10;
		//   var b = 1;
		// }
		// alert(a);//error
		// alert(b);


		// 计数器i只在for循环体内有效，在循环体外引用就会报错。
		// for (let i = 0; i < 10; i++) {

		// }
		// console.log(i);



		// var a = [];
		// for (var i = 0; i < 10; i++) {
		//   a[i] = function () {
		//     console.log(i);
		//   };
		// }
		// a[6](); // 10

		// var a = [];
		// for (let i = 0; i < 10; i++) {
		//   a[i] = function () {
		//     console.log(i);
		//   };
		// }
		// a[6](); // 6


		//=>箭头函数
		// var sum = (num1, num2) => { 
		// 	alert(num1);
		// 	alert(num2);
		// 	alert(num1+num2);
		// }
		// sum(2,3);



		//promise
		var someAsyncThing = function() {
			return new Promise(function(resolve, reject) {
		  	   // 下面一行会报错，因为x没有声明
		  	   var x = 1;
		 	   resolve(x + 2);
		 	   // reject(new Error("oh shit"));
		 	});
		};

		someAsyncThing()
		.then(value => {
			alert(value);
			console.log(value);
			return Promise.resolve(value+1);
			// return Promise.reject(new Error('big problem'));
		})
		.catch(function(error) {
			alert("oh no"+error);
		  	console.log('oh no', error);
		})
		.then(function(value) {
			alert(value+2);
		  	console.log('carry on');
		});

		// ES6的Promise API提供的方法不是很多，有些有用的方法可以自己部署。下面介绍如何部署两个不在ES6之中、但很有用的方法。
		// done();
		// finally();
	</script>
</body>
</html>